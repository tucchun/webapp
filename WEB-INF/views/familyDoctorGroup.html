<div class="wrap familyDoctorGroup">
    <div class="tb-head">辖区家庭医生组设置</div>
    <div class="tb-content">
        <div class="tb-wrap">
            <div class="doctorSetting">
                <div class="selectGroup form-inline">
                    <span>家庭医生</span>
                    <select title="" name="" class="form-control">
                        <option value="">请选择</option>
                    </select>
                    <span>护士</span>
                    <select title="" name="" class="form-control">
                        <option value="">请选择</option>
                    </select>
                </div>
                <p><i class="icon icon-msg"></i>一个家庭医生加一个护士的家庭医生组，最多可添加7个健教专干！</p>
            </div>
            <div class="dry">
                <div class="tb-head">建教专干及网格住户设置</div>
                <div class="content" id="assign_dry">
                    <div class="clearfix assign">
                        <ul class="pull-left" id="drylist">
                            <li class="active" data-id="0"><i class="icon icon-radio icon-chose"></i><span>健教专干名字01</span></li>
                            <li data-id="1"><i class="icon icon-radio icon-chose"></i><span>健教专干名字01</span></li>
                            <li data-id="2"><i class="icon icon-radio icon-chose"></i><span>健教专干名字01</span></li>
                            <li data-id="3"><i class="icon icon-radio icon-chose"></i><span>健教专干名字01</span></li>
                            <li data-id="4"><i class="icon icon-radio icon-chose"></i><span>健教专干名字01</span></li>
                            <li data-id="5"><i class="icon icon-radio icon-chose"></i><span>健教专干名字01</span></li>
                            <li data-id="6"><i class="icon icon-radio icon-chose"></i><span>健教专干名字01</span></li>
                            <li data-id="7"><i class="icon icon-radio icon-chose"></i><span>健教专干名字01</span></li>
                            <li data-id="8"><i class="icon icon-radio icon-chose"></i><span>健教专干名字01</span></li>
                        </ul>
                        <div class="netHouse pull-left">
                            <div class="tab-head">网格住户分配:</div>
                            <div id="netHouseList" class="js_houselist">
                                <div class="district tree-wrap">
                                    <p><input type="checkbox" title=""/>民乐翠园小区</p>
                                    <div class="build tree-wrap">
                                        <p><input type="checkbox" title=""/>8栋</p>
                                        <div class="unit tree-wrap">
                                            <p><input type="checkbox" title=""/>1单元</p>
                                            <ul class="house clearfix tree-wrap">
                                                <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="center pull-left hide" id="js_chousehouse">
                            <div class="choused">
                                <div class="tab-head">已选<span id="js_houseCount">0</span>户</div>
                                <div class="tb-content center" id="chousedHouse">
                                    <a class="btn btn-default" id="js_delHouse">移除已分配的网格住户</a>
                                </div>
                            </div>
                            <a class="btn btn-main" id="add_dry">添加健教专干及其网格住户</a>
                        </div>
                    </div>
                    <table class="table table-striped table-hover table-bordered" id="assigned_officer">
                        <thead>
                        <tr>
                            <th>健教专干</th>
                            <th>已分配住户数</th>
                            <th>操作</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>01</td>
                            <td class="js_count">155</td>
                            <td class="optCol"><a class="modify" data-id="11" href="" data-toggle="modal" data-target="#modal_doctorGroup">修改</a>
                                <a class="del" href="" data-id="1111" data-name="专干名称">删除</a></td>
                        </tr>
                        </tbody>
                    </table>
                    <div class="center"><a class="btn btn-main save">保存</a></div>
                    <div id="modal_doctorGroup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal_doctorGroupLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                    <h4 class="modal-title" id="modal_doctorGroupLabel">网格住户分配</h4>
                                </div>
                                <div class="modal-body js_houselist" id="distristHouse">
                                    <div class="district tree-wrap">
                                        <p><input type="checkbox" title=""/>民乐翠园小区</p>
                                        <div class="build tree-wrap">
                                            <p><input type="checkbox" title=""/>8栋</p>
                                            <div class="unit tree-wrap">
                                                <p><input type="checkbox" title=""/>1单元</p>
                                                <ul class="house clearfix tree-wrap">
                                                    <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                    <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                    <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                    <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                    <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                    <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                    <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                    <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                    <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                    <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                    <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                    <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                    <li class="pull-left"><label><input type="checkbox" title="" value="" data-district="民乐翠园小区" data-build="8栋"/>101</label></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <a class="btn btn-main confirm">保存</a>
                                    <a class="btn btn-default" data-dismiss="modal">取消</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    require(['js/newDoctorGroup'],function(newDoctorGroup){
        var _self = $('#familyDoctorGroup');
        var dc = new newDoctorGroup({
            assign:_self.find('#assign_dry'),
            officer:[{id:11,name:'专干1'},{id:12,name:'专干1'},{id:13,name:'专干1'},
                {id:14,name:'专干1'},{id:15,name:'专干1'},{id:16,name:'专干1'},
                {id:17,name:'专干1'},{id:18,name:'专干1'},{id:19,name:'专干1'},
                {id:20,name:'专干1'},{id:21,name:'专干1'}],
            houseNumber:[
                {
                    "name":"民乐翠园小区",
                    "buildingList":[
                        {
                            "name":"1栋",
                            "unitList":[{
                                "name":"1单元",
                                "houseList":[{
                                    id:1,
                                    house:"102"
                                },{
                                    id:2,
                                    house:"102"
                                },{
                                    id:3,
                                    house:"102"
                                },{
                                    id:4,
                                    house:"102"
                                },{
                                    id:5,
                                    house:"102"
                                },{
                                    id:6,
                                    house:"102"
                                },{
                                    id:7,
                                    house:"102"
                                },{
                                    id:8,
                                    house:"102"
                                },{
                                    id:9,
                                    house:"102"
                                },{
                                    id:10,
                                    house:"102"
                                },{
                                    id:11,
                                    house:"102",
                                    hecadreUid:12
                                }]
                            },{
                                "name":"2单元",
                                "houseList":[{
                                    id:12,
                                    house:"102"
                                },{
                                    id:13,
                                    house:"102"
                                },{
                                    id:14,
                                    house:"102",
                                    hecadreUid:13
                                },{
                                    id:15,
                                    house:"102"
                                },{
                                    id:16,
                                    house:"102"
                                },{
                                    id:17,
                                    house:"102",
                                    hecadreUid:12
                                },{
                                    id:18,
                                    house:"102"
                                },{
                                    id:19,
                                    house:"102"
                                },{
                                    id:20,
                                    house:"102"
                                },{
                                    id:21,
                                    house:"102"
                                },{
                                    id:22,
                                    house:"102"
                                }]
                            }]
                        }
                    ]
                },
                {
                    "name":"西丽崇文花园",
                    "buildingList":[
                        {
                            "name":"1栋",
                            "unitList":[{
                                "name":"1单元",
                                "houseList":[{
                                    id:23,
                                    house:"102",
                                    hecadreUid:11
                                },{
                                    id:24,
                                    house:"102",
                                    hecadreUid:12
                                },{
                                    id:25,
                                    house:"102",
                                    hecadreUid:13
                                },{
                                    id:26,
                                    house:"102"
                                },{
                                    id:27,
                                    house:"102"
                                },{
                                    id:1,
                                    house:"102"
                                },{
                                    id:28,
                                    house:"102"
                                },{
                                    id:29,
                                    house:"102",
                                    hecadreUid:11
                                },{
                                    id:30,
                                    house:"102"
                                },{
                                    id:31,
                                    house:"102"
                                },{
                                    id:32,
                                    house:"102"
                                }]
                            },{
                                "name":"2单元",
                                "houseList":[{
                                    id:33,
                                    house:"102"
                                },{
                                    id:34,
                                    house:"102"
                                },{
                                    id:35,
                                    house:"102"
                                },{
                                    id:36,
                                    house:"102"
                                },{
                                    id:37,
                                    house:"102"
                                },{
                                    id:38,
                                    house:"102"
                                },{
                                    id:39,
                                    house:"102"
                                },{
                                    id:40,
                                    house:"102"
                                },{
                                    id:41,
                                    house:"102"
                                },{
                                    id:42,
                                    house:"102"
                                },{
                                    id:43,
                                    house:"102"
                                }]
                            }]
                        }
                    ]
                }
            ],
            officerHouse:[{officerId:'1111',houseNo:'1,2,3,4,5,6,7'}]
        });
        _self.find('.btn.save').on('click',function(){
            console.log(dc.getHouse());
        });
        _self.find('#assigned_officer').on('click','a.modify',function(){
            var data = [{
                name: "西丽崇文花园",
                buildingList: [
                    {
                        name: "2栋",
                        unitList: [
                            {
                                name: "3单元",
                                houseList: [{
                                    id: 12,
                                    house: "102"
                                }]
                            },
                            {
                                name: "4单元",
                                houseList: [{
                                    id:3,
                                    house: "103"
                                }]
                            }
                        ]
                    }
                ]
            }];
            _self.find('#modal_doctorGroup').attr('data-id',$(this).attr('data-id'));
            dc.modifyOfficer(_self.find('#modal_doctorGroup'),$(this).parents('tr'),$(this).attr('data-id'));
        });
//        _self.find('#modal_doctorGroup').on('click','.btn.confirm',function(){
////            dc.getHouse();
//            console.log(dc.getHouse())
//        });
    })
</script>