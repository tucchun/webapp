<div class="wrap hospital">
  <div class="tb-head">轮播图管理</div>
  <div class="tb-content">
    <div class="tb-wrap">
      <div class="opt">
        <table>
          <tr>
            <td>
              <div class="">
                <button type="button" class="btn btn-main">新增账户</button>
              </div>
            </td>
          </tr>
        </table>
      </div>
      <table cellspacing="0" class="table table-striped table-hover table-bordered">
        <thead>
        <tr>
          <th>序号</th>
          <th>标题</th>
          <th>图片</th>
          <th>创建时间</th>
          <th>排序操作</th>
          <th>操作</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>1</td>
          <td>李大</td>
          <td>
            <div class="carousel-img"><img class=" js-carousel-img" src="../static/rss/example.jpg"></div>
          </td>
          <td>29</td>
          <td><i class="icon icon-down js-icon-down"></i><i class="icon icon-up js-icon-up"></i></td>
          <td class="optCol"><a href="#">编辑</a><a href="#">健康档案</a></td>
        </tr>
       <tr>
          <td>2</td>
          <td>李大</td>
          <td><div class="carousel-img"><img class=" js-carousel-img" src="../static/rss/example.jpg"></div></td>
          <td>29</td>
          <td><i class="icon icon-down js-icon-down"></i><i class="icon icon-up js-icon-up"></i></td>
          <td class="optCol"><a href="#">编辑</a><a href="#">健康档案</a></td>
        </tr>
        <tr>
          <td>3</td>
          <td>李大</td>
          <td><div class="carousel-img"><img class=" js-carousel-img" src="../static/rss/example.jpg"></div></td>
          <td>29</td>
          <td><i class="icon icon-down js-icon-down"></i><i class="icon icon-up js-icon-up"></i></td>
          <td class="optCol"><a href="#">编辑</a><a href="#">健康档案</a></td>
        </tr>
        <tr>
          <td>4</td>
          <td>李大</td>
          <td><div class="carousel-img"><img class=" js-carousel-img" src="../static/rss/example.jpg"></div></td>
          <td>29</td>
          <td><i class="icon icon-down js-icon-down"></i><i class="icon icon-up js-icon-up"></i></td>
          <td class="optCol"><a href="#">编辑</a><a href="#">健康档案</a></td>
        </tr>
        <tr>
          <td>5</td>
          <td>李大</td>
          <td><div class="carousel-img"><img class=" js-carousel-img" src="../static/rss/example.jpg"></div></td>
          <td>29</td>
          <td><i class="icon icon-down js-icon-down"></i><i class="icon icon-up js-icon-up"></i></td>
          <td class="optCol"><a href="#">编辑</a><a href="#">健康档案</a></td>
        </tr>
        <tr>
          <td>6</td>
          <td>李大</td>
          <td><div class="carousel-img"><img class=" js-carousel-img" src="../static/rss/example.jpg"></div></td>
          <td>29</td>
          <td><i class="icon icon-down js-icon-down"></i><i class="icon icon-up js-icon-up"></i></td>
          <td class="optCol"><a href="#">编辑</a><a href="#">健康档案</a></td>
        </tr>
        <tr>
          <td>7</td>
          <td>李大</td>
          <td><div class="carousel-img"><img class=" js-carousel-img" src="../static/rss/example.jpg"></div></td>
          <td>29</td>
          <td><i class="icon icon-down js-icon-down"></i><i class="icon icon-up js-icon-up"></i></td>
          <td class="optCol"><a href="#">编辑</a><a href="#">健康档案</a></td>
        </tr>
        <tr>
          <td>8</td>
          <td>李大</td>
          <td><div class="carousel-img"><img class=" js-carousel-img" src="../static/rss/example.jpg"></div></td>
          <td>29</td>
          <td><i class="icon icon-down js-icon-down"></i><i class="icon icon-up js-icon-up"></i></td>
          <td class="optCol"><a href="#">编辑</a><a href="#">健康档案</a></td>
        </tr>
        </tbody>
      </table>
      <div class="pagenation clearfix">
        <a href="#">上一页</a>
        <a href="#">1</a>
        <a href="#">2</a>
        <a href="#">3</a>
        <span>...</span>
        <a href="#">15</a>
        <a href="#">下一页</a>
        <form action="#" method="post">
          <span>共5页</span><span>到第<input type="text" value="1">页 <input type="submit" class="btn btn-main" value="确定"/></span>
        </form>
      </div>
    </div>
  </div>
</div>
<script>
  require(['jquery'], function($){
    var $self = $("#carousel");
    $self.find(".js-icon-up").show().first().hide();
    $self.find(".js-icon-down").show().last().hide();
    var $images = $self.find(".js-carousel-img");
    $(document).ready(function(){
      // 上移
      $self.on("click", ".js-icon-up", function(e){
        debugger;
        var $this = $(this);
        var $parent_tr = $this.parents("tr:eq(0)");
        var $parent_tr_prev = $parent_tr.prev();
        $parent_tr_prev.before($parent_tr);
        $self.find(".js-icon-up").show().first().hide();
        $self.find(".js-icon-down").show().last().hide();
      });
      // 下移
      $self.on("click", ".js-icon-down", function(e){
        var $this = $(this);
        var $parent_tr = $this.parents("tr:eq(0)");
        var $parent_tr_next = $parent_tr.next();
        $parent_tr_next.after($parent_tr);
        $self.find(".js-icon-up").show().first().hide();
        $self.find(".js-icon-down").show().last().hide();
      });
    });
    $images.each(function(index, item){
      var $this = $(this);
      var width = $this.width();
      var height = $this.height();
      if(width > height){
        $this.width("auto");
        $this.height("100%");
      }else{
        $this.width("100%");
        $this.height("auto");
      }
    });
  });
</script>