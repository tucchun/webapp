webpackJsonp([1],{"/LqT":function(e,t,a){t=e.exports=a("FZ+f")(undefined),t.push([e.i,".pd20{padding:20px 0}.pageNation{margin:0;padding:0;font-size:12px;float:right}.pageNation a{display:inline-block;padding:4px 15px;border:1px solid #333;color:#333;border-radius:3px;margin-right:5px;text-decoration:none;vertical-align:middle}.pageNation a:last-child{margin-right:0}.pageNation a.active{border:1px solid #999;color:#999;cursor:default}",""])},"/Nak":function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function confirm(e,t){var a=document.createElement("div");document.body.appendChild(a),i["default"].render(o["default"].createElement(u,{txt:e,container:a,handleEnter:function(){"function"==typeof t&&t()}}),a)}function alert(e,t){var a=document.createElement("div");document.body.appendChild(a),i["default"].render(o["default"].createElement(s,{txt:e,container:a,handleEnter:function(){"function"==typeof t&&t()}}),a)}function setInitDate(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),n=e.getDate();return{startTime:t+"/"+a+"/"+n,endTime:t+"/"+(a+1)+"/"+n}}function getTimestamp(){if(arguments.length){var e=arguments[0].split("/");return new Date(e[0],e[1]-1,e[2]).getTime()}var t=new Date,a=t.getFullYear(),n=t.getMonth(),r=t.getDate();return{startTime:new Date(a,n-1,r).getTime(),endTime:new Date(a,n,r).getTime()}}function orderStatus(e){var t="";switch(e){case 1:t="待付款";break;case 2:t="待发货";break;case 3:t="待收货";break;case 4:t="已收货";break;case 5:t="已取消";break;default:t="已取消"}return t}function payType(e){var t="";switch(e){case 1:t="微信支付";break;case 2:t="支付宝支付";break;case 3:t="专干端支付";break;default:t="未支付"}return t}function downloadExcel(e,t){var a=e.data,n=document.createElement("a");n.download=t+".xlsx",n.style.display="none";var r=new Blob([a]);n.href=URL.createObjectURL(r),document.body.appendChild(n),n.click(),document.body.removeChild(n)}function formatDateTime(e){var t=new Date;t.setTime(e);var a=t.getFullYear(),n=t.getMonth()+1;n=n<10?"0"+n:n;var r=t.getDate();r=r<10?"0"+r:r;var o=t.getHours();o=o<10?"0"+o:o;var d=t.getMinutes(),i=t.getSeconds();return d=d<10?"0"+d:d,i=i<10?"0"+i:i,a+"-"+n+"-"+r+" "+o+":"+d+":"+i}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}();t.confirm=confirm,t.alert=alert,t.setInitDate=setInitDate,t.getTimestamp=getTimestamp,t.orderStatus=orderStatus,t.payType=payType,t.downloadExcel=downloadExcel,t.formatDateTime=formatDateTime;var r=a("U7vG"),o=_interopRequireDefault(r),d=a("O27J"),i=_interopRequireDefault(d),l=a("pLVJ"),s=function(e){function Alert(e){_classCallCheck(this,Alert);var t=_possibleConstructorReturn(this,(Alert.__proto__||Object.getPrototypeOf(Alert)).call(this,e));return t.doEnter=t.doEnter.bind(t),t.handleHide=t.handleHide.bind(t),t.state={show:!0},t}return _inherits(Alert,e),n(Alert,[{key:"handleHide",value:function(){document.body.removeChild(this.props.container)}},{key:"doEnter",value:function(){this.setState({show:!1}),this.props.handleEnter()}},{key:"render",value:function(){return o["default"].createElement(l.Modal,{bsSize:"small",onExiting:this.handleHide,dialogClassName:"react-dialog","aria-labelledby":"contained-modal-title-sm",show:this.state.show},o["default"].createElement(l.Modal.Header,null,o["default"].createElement(l.Modal.Title,null,"操作提示")),o["default"].createElement(l.Modal.Body,null,this.props.txt),o["default"].createElement(l.Modal.Footer,null,o["default"].createElement(l.Button,{onClick:this.doEnter},"确认")))}}]),Alert}(o["default"].Component),u=function(e){function Confirm(e){_classCallCheck(this,Confirm);var t=_possibleConstructorReturn(this,(Confirm.__proto__||Object.getPrototypeOf(Confirm)).call(this,e));return t.doEnter=t.doEnter.bind(t),t.handleHide=t.handleHide.bind(t),t.doCancel=t.doCancel.bind(t),t.state={show:!0},t}return _inherits(Confirm,e),n(Confirm,[{key:"handleHide",value:function(){document.body.removeChild(this.props.container)}},{key:"doCancel",value:function(){this.setState({show:!1})}},{key:"doEnter",value:function(){this.setState({show:!1}),this.props.handleEnter()}},{key:"render",value:function(){return o["default"].createElement(l.Modal,{bsSize:"small",onExiting:this.handleHide,dialogClassName:"react-dialog","aria-labelledby":"contained-modal-title-sm",show:this.state.show},o["default"].createElement(l.Modal.Header,null,o["default"].createElement(l.Modal.Title,null,"操作提示")),o["default"].createElement(l.Modal.Body,null,this.props.txt),o["default"].createElement(l.Modal.Footer,null,o["default"].createElement(l.Button,{className:"btn btn-primary",onClick:this.doEnter},"确认"),o["default"].createElement(l.Button,{className:"btn btn-default",onClick:this.doCancel},"取消")))}}]),Confirm}(o["default"].Component)},"0pLT":function(e,t,a){var n=a("/LqT");"string"==typeof n&&(n=[[e.i,n,""]]);var r={};r.transform=void 0;a("MTIv")(n,r);n.locals&&(e.exports=n.locals)},"43m/":function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),o=a("U7vG"),d=_interopRequireDefault(o),i=a("xcwF"),l=_interopRequireDefault(i),s=a("M4fF"),u=_interopRequireDefault(s);a("maqY"),a("TVHY");var c=function(e){function Grid(){return _classCallCheck(this,Grid),_possibleConstructorReturn(this,(Grid.__proto__||Object.getPrototypeOf(Grid)).apply(this,arguments))}return _inherits(Grid,e),r(Grid,[{key:"render",value:function(){var e=this.props.rowClassName?this.props.rowClassName+" my-row-class":"my-row-class",t=u["default"].map(this.props.columns,function(e){var t=e.className?e.className+" my-col-class":"my-col-class";return n({},e,{className:t})}),a=u["default"].omit(this.props,"rowClassName","columns");return d["default"].createElement(l["default"],n({columns:t,rowClassName:e},a))}}]),Grid}(d["default"].Component);t["default"]=c},"4Obf":function(e,t,a){var n=a("MRnC");"string"==typeof n&&(n=[[e.i,n,""]]);var r={};r.transform=void 0;a("MTIv")(n,r);n.locals&&(e.exports=n.locals)},Ay5g:function(e,t,a){"use strict";function logger(){var e;console.log("///////////////////"),(e=console).log.apply(e,arguments),console.log("///////////////////")}Object.defineProperty(t,"__esModule",{value:!0}),t.logger=logger},CF1R:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function fetchProdList(e){return new Promise(function(t,a){var r=o["default"].shopProdList;(0,i["default"])({url:r.url,method:r.method,data:n({},r.data,e)}).then(function(e){var n=e.data;1===n.ret_code?t(n.ret_data):a(n.ret_msg)})["catch"](function(e){a("请求数据失败"),(0,l.logger)(e)})})}function fetchStationProdList(e){return new Promise(function(t,a){var r=o["default"].shopStationProdList;(0,i["default"])({url:r.url,method:r.method,data:n({},r.data,e)}).then(function(e){var n=e.data;1===n.ret_code?t(n.ret_data):a(n.ret_msg)})["catch"](function(e){a("请求数据失败"),(0,l.logger)(e)})})}function updateStationProd(e){return new Promise(function(t,a){var r=o["default"].stationProdUpdate;(0,i["default"])({url:r.url,method:r.method,data:n({},r.data,e)}).then(function(e){var n=e.data;1===n.ret_code?t(n.ret_data):a(n.ret_msg)})["catch"](function(e){a("请求数据失败"),(0,l.logger)(e)})})}function deleteStationProd(e){return new Promise(function(t,a){var r=o["default"].stationProdDelete;(0,i["default"])({url:r.url,method:r.method,data:n({},r.data,e)}).then(function(e){var n=e.data;1===n.ret_code?t(n.ret_data):a(n.ret_msg)})["catch"](function(e){a("删除失败"),(0,l.logger)(e)})})}function stationProdCreate(e){return new Promise(function(t,a){var r=o["default"].stationProdCreate;(0,i["default"])({url:r.url,method:r.method,data:n({},r.data,e)}).then(function(e){var n=e.data;1===n.ret_code?t(n.ret_data):a(n.ret_msg)})["catch"](function(e){a("删除失败"),(0,l.logger)(e)})})}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.fetchProdList=fetchProdList,t.fetchStationProdList=fetchStationProdList,t.updateStationProd=updateStationProd,t.deleteStationProd=deleteStationProd,t.stationProdCreate=stationProdCreate;var r=a("jqGU"),o=_interopRequireDefault(r),d=a("p/vB"),i=_interopRequireDefault(d),l=a("Ay5g"),s={fetchProdList:fetchProdList,fetchStationProdList:fetchStationProdList,updateStationProd:updateStationProd,deleteStationProd:deleteStationProd,stationProdCreate:stationProdCreate};t["default"]=s},MRnC:function(e,t,a){t=e.exports=a("FZ+f")(undefined),t.push([e.i,".commodityManagement-cats{margin:10px 0}.commodityManagement-pl20{padding-left:20px}.commodityManagement-cats .form-group{vertical-align:top;padding-right:10px}.prodmanageadd_allcheck{position:absolute;left:24px;z-index:1;top:26px}",""])},O4c6:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),r=a("U7vG"),o=_interopRequireDefault(r),d=a("KSGD"),i=_interopRequireDefault(d),l=function(e){function Container(e){return _classCallCheck(this,Container),_possibleConstructorReturn(this,(Container.__proto__||Object.getPrototypeOf(Container)).call(this,e))}return _inherits(Container,e),n(Container,[{key:"render",value:function(){var e=this.props.className;return e=e+" tb-wrap"||"",o["default"].createElement("div",{className:"wrap"},o["default"].createElement("div",{className:"tb-head"},this.props.title),o["default"].createElement("div",{className:"tb-content"},o["default"].createElement("div",{className:e},this.props.children)))}}]),Container}(r.Component);l.propTypes={title:i["default"].string.isRequired},t["default"]=l},OMme:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),r=a("U7vG"),o=_interopRequireDefault(r),d=a("KSGD"),i=_interopRequireDefault(d),l=function(e){function Link(){return _classCallCheck(this,Link),_possibleConstructorReturn(this,(Link.__proto__||Object.getPrototypeOf(Link)).apply(this,arguments))}return _inherits(Link,e),n(Link,[{key:"render",value:function(){var e=this,t=o["default"].createElement("a",{href:"#",onClick:function(t){return e.handleClick(t)}},this.props.pageArgument.page);return this.props.pageArgument.pageCode===this.props.pageArgument.currentPage&&(t=o["default"].createElement("a",{href:"#",className:"active"},this.props.pageArgument.page)),t}},{key:"handleClick",value:function(e){var t={pageCode:this.props.pageArgument.pageCode,currentPage:this.props.pageArgument.pageCode};this.props.onLink(t)}}]),Link}(o["default"].Component);l.propTypes={pageArgument:i["default"].shape({page:i["default"].string.isRequired,pageCode:i["default"].number.isRequired,currentPage:i["default"].number.isRequired})},t["default"]=l},SmoJ:function(e,t,a){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),r=a("U7vG"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),d=function(e){function Condition(e){return _classCallCheck(this,Condition),_possibleConstructorReturn(this,(Condition.__proto__||Object.getPrototypeOf(Condition)).call(this,e))}return _inherits(Condition,e),n(Condition,[{key:"render",value:function(){return o["default"].createElement("div",{className:"opt clearfix"},this.props.children)}}]),Condition}(r.Component);t["default"]=d},Ssrf:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),o=a("U7vG"),d=_interopRequireDefault(o),i=a("M4fF"),l=_interopRequireDefault(i),s=a("pLVJ"),u=a("KSGD"),c=_interopRequireDefault(u),h=a("jqGU"),p=_interopRequireDefault(h),f=a("p/vB"),m=_interopRequireDefault(f),_=a("Ay5g"),g=a("43m/"),b=_interopRequireDefault(g),y=a("/Nak"),C=a("W4LX"),w=_interopRequireDefault(C),P=a("UEDN"),v=_interopRequireDefault(P);a("4Obf");var k=function(e){function Add(e){_classCallCheck(this,Add);var t=_possibleConstructorReturn(this,(Add.__proto__||Object.getPrototypeOf(Add)).call(this,e));return t.columns=[{title:"",dataIndex:"prod_id",key:"prod_id",render:function(e,a){var n=l["default"].findIndex(t.props.addProdIds,function(e){return e===a.prod_id})>=0;return d["default"].createElement("input",{type:"checkbox",onChange:function(e){return t.handleCheck(e,a)},checked:n})}},{title:"商品编号",dataIndex:"prod_no",key:"prod_no"},{title:"商品名称",dataIndex:"prod_name",key:"prod_name"},{title:"商品产地",dataIndex:"prod_src",key:"prod_src"},{title:"商品规格",dataIndex:"prod_spec",key:"prod_spec"},{title:"商品分类",dataIndex:"prod_cat.cat_text",key:"prod_cat_text"},{title:"商品标签",key:"prod_tags_txt",render:function(e,t){var a=l["default"].map(t.prod_tags,function(e){return e.tag_text}).join("/");return d["default"].createElement("div",null,a)}},{title:"适用人群",dataIndex:"prod_crowds.crowd_text",key:"prod_crowds_txt"},{title:"助记码",dataIndex:"prod_assist_code",key:"prod_assist_code"}],t.handleSearch=t.handleSearch.bind(t),t.handleInputChange=t.handleInputChange.bind(t),t.handleSelectChange=t.handleSelectChange.bind(t),t.handleCheckboxChange=t.handleCheckboxChange.bind(t),t.handlePage=t.handlePage.bind(t),t.doCancel=t.doCancel.bind(t),t.handleCheck=t.handleCheck.bind(t),t.handleAllChange=t.handleAllChange.bind(t),t.addProd=t.addProd.bind(t),t}return _inherits(Add,e),r(Add,[{key:"handleAllChange",value:function(e){this.props.handleAllOnChange(e)}},{key:"handleCheck",value:function(e,t){this.props.handleOnCheck(e,t)}},{key:"handleSearch",value:function(){this.props.handleSearch()}},{key:"handleInputChange",value:function(e,t){this.props.handleInputChange(e,t)}},{key:"handleSelectChange",value:function(e,t){this.props.handleSelectChange(e,t)}},{key:"handleCheckboxChange",value:function(e,t){this.props.handleCheckboxChange(e,t)}},{key:"addProd",value:function(){this.props.handleAddProds()}},{key:"doCancel",value:function(){this.props.hideAddModal()}},{key:"handlePage",value:function(e){this.props.handlePage(e)}},{key:"fetchList",value:function(e){return new Promise(function(t,a){var r=p["default"].shopProdList;(0,m["default"])({url:r.url,method:r.method,data:n({},r.data,e)}).then(function(e){var n=e.data;1===n.ret_code?t(n.ret_data):a(n.ret_msg)})["catch"](function(e){a("请求数据失败"),(0,_.logger)(e)})})}},{key:"searchList",value:function(){var e=this,t=this.refs.conditionForm.getData();this.fetchList(n({begin:this.state.begin,count:this.state.count,prod_display:1},t)).then(function(t){(0,_.logger)(t),e.setState({data:t})})["catch"](function(e){(0,y.alert)(e)})}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return d["default"].createElement(s.Modal,{bsSize:"large",show:this.props.show},d["default"].createElement(s.Modal.Header,null,d["default"].createElement(s.Modal.Title,null,"新增")),d["default"].createElement(s.Modal.Body,null,d["default"].createElement(s.Grid,{className:"modalbody-container"},d["default"].createElement(s.Row,{className:"show-grid padding-align"},d["default"].createElement(s.Col,{xs:12,md:12},d["default"].createElement(w["default"],{tags:this.props.tags,crowds:this.props.crowds,cats:this.props.cats,handleConditionSearch:this.props.handleSearch,handleCheckboxChange:this.props.handleCheckboxChange,handleSelectChange:this.props.handleSelectChange,handleInputChange:this.props.handleInputChange,prod_assist_code:this.props.prod_assist_code,prod_name:this.props.prod_name,prod_src:this.props.prod_src,prod_cats:this.props.prod_cats,prod_tags:this.props.prod_tags,prod_crowds:this.props.prod_crowds,station_in_sale:this.props.station_in_sale}))),d["default"].createElement(s.Row,{className:"show-grid"},d["default"].createElement(s.Col,{xs:12,md:12},d["default"].createElement("input",{type:"checkbox",className:"prodmanageadd_allcheck",onChange:this.handleAllChange,checked:this.props.allCheckState}),d["default"].createElement(b["default"],{rowKey:"prod_id",columns:this.columns,data:this.props.gridData}),d["default"].createElement(v["default"],{getPage:this.handlePage,currentPage:this.props.begin+1,pageNumber:this.props.pageNumber}))))),d["default"].createElement(s.Modal.Footer,null,d["default"].createElement(s.Button,{onClick:this.doCancel},"取消"),d["default"].createElement(s.Button,{className:"btn btn-main",onClick:this.addProd},"确认")))}}]),Add}(o.Component);k.propTypes={tags:c["default"].array.isRequired,crowds:c["default"].array.isRequired,cats:c["default"].array.isRequired,handleSearch:c["default"].func.isRequired,handleCheckboxChange:c["default"].func.isRequired,handleSelectChange:c["default"].func.isRequired,handleInputChange:c["default"].func.isRequired,handleOnCheck:c["default"].func.isRequired,handleAllOnChange:c["default"].func.isRequired,prod_assist_code:c["default"].string.isRequired,handleAddProds:c["default"].func.isRequired,prod_name:c["default"].string.isRequired,prod_src:c["default"].string.isRequired,prod_cats:c["default"].array.isRequired,prod_tags:c["default"].array.isRequired,prod_crowds:c["default"].array.isRequired,addProdIds:c["default"].array.isRequired,station_in_sale:c["default"].number,hideAddModal:c["default"].func.isRequired,handlePage:c["default"].func.isRequired,pageNumber:c["default"].number.isRequired,show:c["default"].bool.isRequired,gridData:c["default"].array.isRequired,begin:c["default"].number.isRequired,prod_display:c["default"].number.isRequired,allCheckState:c["default"].bool.isRequired},t["default"]=k},UEDN:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),r=a("U7vG"),o=_interopRequireDefault(r),d=a("OMme"),i=_interopRequireDefault(d),l=a("KSGD"),s=_interopRequireDefault(l);a("0pLT");var u=function(e){function PageNation(e){_classCallCheck(this,PageNation);var t=_possibleConstructorReturn(this,(PageNation.__proto__||Object.getPrototypeOf(PageNation)).call(this,e));return t.state=e,t}return _inherits(PageNation,e),n(PageNation,[{key:"getLinkList",value:function(){for(var e=this,t=[o["default"].createElement(i["default"],{key:"firstpage",pageArgument:{page:"首页",pageCode:1,currentPage:this.props.currentPage},onLink:function(t){return e.props.getPage(t)}}),o["default"].createElement(i["default"],{key:"prePage",pageArgument:{page:"上一页",pageCode:this.props.currentPage-1==0?1:this.props.currentPage-1,currentPage:this.props.currentPage},onLink:function(t){return e.props.getPage(t)}})],a=0;a<this.props.pageNumber;a++)t.push(o["default"].createElement(i["default"],{key:"page"+a,pageArgument:{page:(a+1).toString(),pageCode:a+1,currentPage:this.props.currentPage},onLink:function(t){return e.props.getPage(t)}}));return t=[].concat(_toConsumableArray(t),[o["default"].createElement(i["default"],{key:"nextPage",pageArgument:{page:"下一页",pageCode:this.props.currentPage+1>=this.props.pageNumber?this.props.pageNumber:this.props.currentPage+1,currentPage:this.props.currentPage},onLink:function(t){return e.props.getPage(t)}}),o["default"].createElement(i["default"],{key:"lastPage",pageArgument:{page:"末页",pageCode:this.props.pageNumber,currentPage:this.props.currentPage},onLink:function(t){return e.props.getPage(t)}})])}},{key:"render",value:function(){var e={clear:"both"};return o["default"].createElement("div",{className:"pd20"},o["default"].createElement("div",{className:"pageNation"},this.getLinkList()),o["default"].createElement("div",{style:e},""))}}]),PageNation}(o["default"].Component);u.propTypes={getPage:s["default"].func.isRequired,pageNumber:s["default"].number.isRequired,currentPage:s["default"].number.isRequired},t["default"]=u},W4LX:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),r=a("U7vG"),o=_interopRequireDefault(r),d=a("KSGD"),i=_interopRequireDefault(d),l=a("pLVJ"),s=function(e){function Condition(e){_classCallCheck(this,Condition);var t=_possibleConstructorReturn(this,(Condition.__proto__||Object.getPrototypeOf(Condition)).call(this,e));return t.state={prod_assist_code:"",prod_name:"",prod_src:"",prod_cats:[],prod_tags:[],prod_crowds:[],station_in_sale:1},t.handleSearch=t.handleSearch.bind(t),t.handleInputChange=t.handleInputChange.bind(t),t.handleSelectChange=t.handleSelectChange.bind(t),t.handleCheckboxChange=t.handleCheckboxChange.bind(t),t}return _inherits(Condition,e),n(Condition,[{key:"handleSearch",value:function(){this.props.handleConditionSearch()}},{key:"getData",value:function(){return this.state}},{key:"handleCheckboxChange",value:function(e){var t=e.target,a=t.name,n=parseInt(t.value)||0;this.props.handleCheckboxChange(a,n)}},{key:"handleSelectChange",value:function(e){var t=e.target,a=t.name,n=parseInt(t.value)||0;this.props.handleSelectChange(a,n)}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.props.handleInputChange(a,n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.tags,n=t.crowds,r=t.cats;return o["default"].createElement(l.Form,{inline:!0},o["default"].createElement(l.FormGroup,{controlId:"prod_assist_code"},o["default"].createElement(l.ControlLabel,null,"助记码")," ",o["default"].createElement(l.FormControl,{type:"text",name:"prod_assist_code",onChange:this.handleInputChange,value:this.props.prod_assist_code,placeholder:"助记码"}))," ",o["default"].createElement(l.FormGroup,{controlId:"prod_name"},o["default"].createElement(l.ControlLabel,null,"商品名称")," ",o["default"].createElement(l.FormControl,{type:"text",name:"prod_name",onChange:this.handleInputChange,value:this.props.prod_name,placeholder:"商品名称"}))," ",o["default"].createElement(l.FormGroup,{controlId:"prod_src"},o["default"].createElement(l.ControlLabel,null,"商品产地")," ",o["default"].createElement(l.FormControl,{type:"text",name:"prod_src",onChange:this.handleInputChange,value:this.props.prod_src,placeholder:"商品产地"}))," ",o["default"].createElement(l.FormGroup,{controlId:"station_in_sale"},o["default"].createElement(l.ControlLabel,null,"是否上架")," ",o["default"].createElement(l.FormControl,{componentClass:"select",value:this.props.station_in_sale,onChange:this.handleSelectChange,name:"station_in_sale",placeholder:"是否上架"},o["default"].createElement("option",{value:"2"},"未上架"),o["default"].createElement("option",{value:"1"},"上架")))," ",o["default"].createElement(l.FormGroup,{controlId:"station_in_sale"},o["default"].createElement(l.Button,{bsClass:"btn btn-main",onClick:this.handleSearch,type:"button"},"查询")),o["default"].createElement("div",{className:"commodityManagement-cats"},o["default"].createElement(l.FormGroup,null,o["default"].createElement(l.ControlLabel,null,"商品标签"),o["default"].createElement("div",{className:"commodityManagement-cats commodityManagement-pl20"},o["default"].createElement(l.FormGroup,null,a.map(function(t){var a=e.props.prod_tags.findIndex(function(e){return e===t.tag_id}),n=a>-1&&"checked";return o["default"].createElement(l.Checkbox,{key:t.tag_id,name:"prod_tags",onChange:e.handleCheckboxChange,value:t.tag_id,checked:n,inline:!0},t.tag_text)})))),o["default"].createElement(l.FormGroup,null,o["default"].createElement(l.ControlLabel,null,"适用人群"),o["default"].createElement("div",{className:"commodityManagement-cats commodityManagement-pl20"},o["default"].createElement(l.FormGroup,null,n.map(function(t){var a=e.props.prod_crowds.findIndex(function(e){return e===t.crowd_id}),n=a>-1&&"checked";return o["default"].createElement(l.Checkbox,{name:"prod_crowds",onChange:e.handleCheckboxChange,key:t.crowd_id,value:t.crowd_id,checked:n,inline:!0},t.crowd_text)})))),o["default"].createElement(l.FormGroup,null,o["default"].createElement("div",null,o["default"].createElement(l.ControlLabel,null,"商品分类")),r.map(function(t){var a=t.sub_cats.map(function(t){var a=e.props.prod_cats.findIndex(function(e){return e===t.cat_id}),n=a>-1&&"checked";return o["default"].createElement(l.Checkbox,{key:t.cat_id,checked:n,name:"prod_cats",onChange:e.handleCheckboxChange,inline:!0,value:t.cat_id},t.cat_text)});return o["default"].createElement("span",{key:t.cat_id,className:"commodityManagement-cats commodityManagement-pl20"},o["default"].createElement(l.FormGroup,null,t.cat_text,o["default"].createElement("div",{className:"commodityManagement-pl20"},a)))}))))}}]),Condition}(r.Component);s.propTypes={tags:i["default"].array.isRequired,crowds:i["default"].array.isRequired,cats:i["default"].array.isRequired,handleConditionSearch:i["default"].func.isRequired,handleCheckboxChange:i["default"].func.isRequired,handleSelectChange:i["default"].func.isRequired,handleInputChange:i["default"].func.isRequired,prod_assist_code:i["default"].string.isRequired,prod_name:i["default"].string.isRequired,prod_src:i["default"].string.isRequired,prod_cats:i["default"].array.isRequired,prod_tags:i["default"].array.isRequired,prod_crowds:i["default"].array.isRequired,station_in_sale:i["default"].number},t["default"]=s},XNDV:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),o=a("U7vG"),d=_interopRequireDefault(o),i=a("KSGD"),l=_interopRequireDefault(i),s=a("jqGU"),u=_interopRequireDefault(s),c=a("p/vB"),h=_interopRequireDefault(c),p=a("Ay5g"),f=a("/Nak"),m=a("pLVJ"),_=function(e){function ModifyProd(e){_classCallCheck(this,ModifyProd);var t=_possibleConstructorReturn(this,(ModifyProd.__proto__||Object.getPrototypeOf(ModifyProd)).call(this,e));return t.handleSelectChange=t.handleSelectChange.bind(t),t.hideModal=t.hideModal.bind(t),t.updateProd=t.updateProd.bind(t),t.doEntry=t.doEntry.bind(t),t}return _inherits(ModifyProd,e),r(ModifyProd,[{key:"doEntry",value:function(){this.props.updateProd()}},{key:"updateProd",value:function(){var e=this;this.update({station_in_sale:this.props.station_in_sale,prod_id:this.props.prod_id}).then(function(t){e.props.handleupdateProd(t),(0,p.logger)(t)})["catch"](function(e){(0,f.alert)(e)})}},{key:"update",value:function(e){return new Promise(function(t,a){var r=u["default"].stationProdUpdate;(0,h["default"])({url:r.url,method:r.method,data:n({},r.data,e)}).then(function(e){var n=e.data;1===n.ret_code?t(n.ret_data):a(n.ret_msg)})["catch"](function(e){a("请求数据失败"),(0,p.logger)(e)})})}},{key:"handleSelectChange",value:function(e){var t=e.target,a=parseInt(t.value);this.props.handleSelectChange({station_in_sale:a})}},{key:"hideModal",value:function(){this.props.handleHideModal()}},{key:"render",value:function(){var e=this.props,t=e.prod_no,a=e.prod_name,n=e.prod_src,r=e.prod_spec,o=e.show;return d["default"].createElement(m.Modal,{show:o},d["default"].createElement(m.Modal.Header,null,d["default"].createElement(m.Modal.Title,null,"修改")),d["default"].createElement(m.Modal.Body,null,d["default"].createElement(m.Grid,{className:"modalbody-container"},d["default"].createElement(m.Row,{className:"show-grid"},d["default"].createElement(m.Col,{xs:6,md:6},d["default"].createElement(m.FormGroup,{controlId:"prod_no"},d["default"].createElement(m.ControlLabel,null,"商品编号")," ",d["default"].createElement(m.FormControl,{disabled:!0,type:"text",placeholder:"商品编号",value:t}))),d["default"].createElement(m.Col,{xs:6,md:6},d["default"].createElement(m.FormGroup,{controlId:"prod_name"},d["default"].createElement(m.ControlLabel,null,"商品名称")," ",d["default"].createElement(m.FormControl,{disabled:!0,type:"text",placeholder:"商品名称",value:a})))),d["default"].createElement(m.Row,{className:"show-grid"},d["default"].createElement(m.Col,{xs:6,md:6},d["default"].createElement(m.FormGroup,{controlId:"prod_src"},d["default"].createElement(m.ControlLabel,null,"商品产地")," ",d["default"].createElement(m.FormControl,{disabled:!0,type:"text",placeholder:"商品产地",value:n}))),d["default"].createElement(m.Col,{xs:6,md:6},d["default"].createElement(m.FormGroup,{controlId:"prod_spec"},d["default"].createElement(m.ControlLabel,null,"商品规格")," ",d["default"].createElement(m.FormControl,{disabled:!0,type:"text",placeholder:"商品规格",value:r})))),d["default"].createElement(m.Row,{className:"show-grid"},d["default"].createElement(m.Col,{xs:6},d["default"].createElement(m.FormGroup,{controlId:"prod_spec"},d["default"].createElement(m.ControlLabel,null,"是否上架")," ",d["default"].createElement(m.FormControl,{componentClass:"select",value:this.props.station_in_sale,onChange:this.handleSelectChange,name:"station_in_sale",placeholder:"是否上架"},d["default"].createElement("option",{value:2},"未上架"),d["default"].createElement("option",{value:1},"上架"))))))),d["default"].createElement(m.Modal.Footer,null,d["default"].createElement(m.Button,{onClick:this.hideModal},"取消"),d["default"].createElement(m.Button,{className:"btn btn-main",onClick:this.doEntry},"确认")))}}]),ModifyProd}(o.Component);_.propTypes={station_in_sale:l["default"].number.isRequired,prod_no:l["default"].string.isRequired,prod_name:l["default"].string.isRequired,prod_src:l["default"].string.isRequired,prod_spec:l["default"].string.isRequired,show:l["default"].bool.isRequired,handleSelectChange:l["default"].func.isRequired,handleHideModal:l["default"].func.isRequired,updateProd:l["default"].func.isRequired},t["default"]=_},jqGU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=document.getElementById("__user__").value,r=document.getElementById("__auth__").value,o={src_type:"Web Admin",pf_type:"Web",user_id:parseInt(n),auth_str:r},d={commonData:o,getShopProdSaleStat:{url:"/hca/web/admin/shop/prod/sale/stat",method:"post"},shopProdSaleStatExport:{url:"/hca/web/admin/shop/prod/sale/stat/export",method:"post"},getShopSaleStat:{url:"/hca/web/admin/shop/sale/stat",method:"post"},shopSaleStatExport:{url:"/hca/web/admin/shop/sale/stat/export",method:"post"},getShopHecadreSaleStat:{url:"/hca/web/admin/shop/hecadre/sale/stat",method:"post"},shopHecadreSaleStatExport:{url:"/hca/web/admin/shop/hecadre/sale/stat/export",method:"post"},getShopInhabitantStat:{url:"/hca/web/admin/shop/inhabitant/stat",method:"post"},shopInhabitantStat:{url:"/hca/web/admin/shop/inhabitant/stat/export",method:"post"},getShopInhabitantOrderList:{url:"/hca/web/admin/shop/inhabitant/order/list",method:"post"},shopInhabitantOrderExport:{url:"/hca/web/admin/shop/inhabitant/order/export",method:"post"},getShopOrder:{url:"/hca/web/admin/shop/order",method:"post"},shopStationProdList:{url:"/hca/web/admin/shop/station/prod/list",method:"POST",data:o},goodsTagList:{url:"/hca/web/admin/shop/prodtag/list",method:"POST"},goodsCreate:{url:"/hca/web/admin/shop/prod/create",method:"POST"},goodsNew:{url:"/hca/web/admin/shop/prod/create",method:"POST"},goodsTagCreate:{url:"/hca/web/admin/shop/prodtag/create",method:"POST"},goodsTagUpdate:{url:"/hca/web/admin/shop/prodtag/update",method:"POST"},goodsTagDelete:{url:"/hca/web/admin/shop/prodtag/delete",method:"POST"},goodsList:{url:"/hca/web/admin/shop/prod/list",method:"POST"},goodsUpdate:{url:"/hca/web/admin/shop/prod/update",method:"POST"},goodsDelete:{url:"/hca/web/admin/shop/prod/delete",method:"POST"},goodsExport:{url:"/hca/web/admin/shop/prod/export",method:"POST"},goodsAdjustPriceList:{url:"/hca/web/admin/shop/prodprice/adjust/list",method:"POST"},goodsPriceCreate:{url:"/hca/web/admin/shop/prodprice/adjust/create",method:"POST"},goodsPriceAdjust:{url:"/hca/web/admin/shop/prodprice/adjust",method:"POST"},goodsPriceExport:{url:"/hca/web/admin/shop/prodprice/export",method:"POST"},goodsPriceCancel:{url:"/hca/web/admin/shop/prodprice/adjust/cancel",method:"POST"},goodsPriceAancel:{url:"/hca/web/admin/shop/prodprice/adjust",method:"POST"},goodsPriceAudit:{url:"/hca/web/admin/shop/prodprice/audit",method:"POST"},goodsPriceAdjustExport:{url:"/hca/web/admin/shop/prodprice/adjust/export",method:"POST"},goodsPriceDetail:{url:"/hca/web/admin/shop/prod",method:"POST"},shopProdmeta:{url:"/hca/web/admin/shop/prodmeta",method:"POST",data:o},stationProdUpdate:{url:"/hca/web/admin/shop/station/prod/update",method:"POST",data:o},stationProdDelete:{url:"/hca/web/admin/shop/station/prod/delete",method:"POST",data:o},shopGuestorderList:{url:"/hca/web/admin/shop/guestorder/list",method:"POST",data:o},shopOrderList:{url:"/hca/web/admin/shop/order/list",method:"POST",data:o},shopOrderInfo:{url:"/hca/web/admin/shop/order",method:"POST",data:o},stationNongridList:{url:"/hca/web/admin/station/nongrid/list",method:"POST"},stationNongridDelete:{url:"/hca/web/admin/station/nongrid/delete",method:"POST"},stationNongridUpdate:{url:"/hca/web/admin/station/nongrid/update",method:"POST"},stationNongridAssign:{url:"/hca/web/admin/station/nongrid/assign",method:"POST"},getAreaList:{url:"/hca/web/admin/getarealist",method:"POST"},stationHecadreListbyperm:{url:"/hca/web/admin/station/hecadre/listbyperm",method:"POST"},getArealist:{url:"/hca/web/admin/getarealist",method:"POST",data:o},listbyareastation:{url:"/hca/web/admin/hecadre/listbyareastation",method:"POST",data:o},shopProdList:{url:"/hca/web/admin/shop/prod/list",method:"POST",data:o},stationProdCreate:{url:"/hca/web/admin/shop/station/prod/create",method:"POST",data:o},shopGuestorderAssign:{url:"/hca/web/admin/shop/guestorder/assign",method:"POST",data:o},shopGuestorder:{url:"/hca/web/admin/shop/guestorder",method:"POST",data:o},shopGuestorderExport:{url:"/hca/web/admin/shop/guestorder/export",method:"POST",data:o}};t["default"]=d},"p/vB":function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.baseURL=undefined;var n=a("mtWM"),r=_interopRequireDefault(n),o=a("BEQ0"),d=_interopRequireDefault(o),i=a("M4fF"),l=_interopRequireDefault(i),s=a("jqGU"),u=(_interopRequireDefault(s),a("Ay5g"));a("DNLx"),a("gK7o"),a("hKoQ").polyfill();var c="",h=window.$;t.baseURL=c="/",r["default"].interceptors.request.use(function(e){return(0,u.logger)("===============请求接口开始===============\n"),(0,u.logger)("请求接口："+e.url+"\n"),(0,u.logger)("参数："+JSON.stringify(e.data)+"\n"),h(document.body).mLoading({mask:!1}),e},function(e){return Promise.reject(e)}),r["default"].interceptors.response.use(function(e){return(0,u.logger)("响应数据："+JSON.stringify(e)+"\n"),(0,u.logger)("===============请求接口结束===============\n"),h(document.body).mLoading("hide"),e},function(e){return(0,u.logger)("响应失败："+e+"\n"),(0,u.logger)("===============请求接口结束===============\n"),h(document.body).mLoading("hide"),Promise.resolve(e.response)});var p={baseURL:c,timeout:1e4,method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},responseType:"json"},f=function(){var e=void 0,t=void 0;switch(arguments.length){case 1:e=arguments[0].url,t=l["default"].omit(arguments[0],"url");break;case 2:e=arguments[0],t=arguments[1]}return e.indexOf("?")>0?e+="&_="+ +new Date:e+="?_="+ +new Date,t=(0,d["default"])({},p,t),(0,r["default"])(e,t)};t.baseURL=c,t["default"]=f},v0bo:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),o=a("U7vG"),d=_interopRequireDefault(o),i=a("O27J"),l=_interopRequireDefault(i),s=a("M4fF"),u=_interopRequireDefault(s),c=a("pLVJ"),h=a("43m/"),p=_interopRequireDefault(h),f=a("O4c6"),m=_interopRequireDefault(f),_=a("SmoJ"),g=_interopRequireDefault(_),b=a("UEDN"),y=_interopRequireDefault(b),C=a("jqGU"),w=_interopRequireDefault(C),P=a("p/vB"),v=_interopRequireDefault(P),k=a("/Nak"),S=a("Ay5g"),E=a("W4LX"),x=_interopRequireDefault(E),D=a("XNDV"),O=_interopRequireDefault(D),R=a("CF1R"),M=_interopRequireDefault(R),q=a("Ssrf"),I=_interopRequireDefault(q);a("4Obf");var j=window.common,A=function(e){function ProdManage(e){_classCallCheck(this,ProdManage);var t=_possibleConstructorReturn(this,(ProdManage.__proto__||Object.getPrototypeOf(ProdManage)).call(this,e));return t.columns=[{title:"商品编号",key:"prod_no",dataIndex:"prod_no"},{title:"商品名称",key:"prod_name",dataIndex:"prod_name"},{title:"商品产地",key:"prod_src",dataIndex:"prod_src"},{title:"商品规格",key:"prod_spec",dataIndex:"prod_spec"},{title:"商品分类",key:"prod_cat_text",dataIndex:"prod_cat.cat_text"},{title:"商品标签",key:"prod_tags_txt",render:function(e,t){var a=u["default"].map(t.prod_tags,function(e){return e.tag_text}).join("/");return d["default"].createElement("div",null,a)}},{title:"适用人群",key:"prod_crowd_txt",render:function(e,t){var a=u["default"].map(t.prod_crowds,function(e){return e.crowd_text}).join("/");return d["default"].createElement("div",null,a)}},{title:"助记码",key:"prod_assist_code",dataIndex:"prod_assist_code"},{title:"是否在售",key:"prod_in_sale",dataIndex:"prod_in_sale",render:function(e,t){return 1===t.prod_in_sale?"在售":0===t.prod_in_sale?"停售":" "}},{title:"是否上架",key:"station_in_sale",dataIndex:"station_in_sale",render:function(e,t){return 1===t.station_in_sale?"上架":0===t.station_in_sale?"未上架":" "}},{key:"Operations",title:"操作",render:function(e,a){return d["default"].createElement("div",{className:"optCol"},d["default"].createElement("a",{href:"#",onClick:function(e){t.showUpdateCommodityModal(e,a)}},"修改"),d["default"].createElement("a",{href:"#",onClick:function(e){t.showCommodityInfo(e,a)}},"详情"),d["default"].createElement("a",{href:"#",onClick:function(e){return t.deleteProd(e,a)}},"删除"))}}],t.handleGetPage=t.handleGetPage.bind(t),t.showUpdateCommodityModal=t.showUpdateCommodityModal.bind(t),t.handleupdateProd=t.handleupdateProd.bind(t),t.showCommodityInfo=t.showCommodityInfo.bind(t),t.deleteProd=t.deleteProd.bind(t),t.handleShowAddProd=t.handleShowAddProd.bind(t),t.handleIndexSearch=t.handleIndexSearch.bind(t),t.handleIndexCheckboxChange=t.handleIndexCheckboxChange.bind(t),t.handleIndexSelectChange=t.handleIndexSelectChange.bind(t),t.handleIndexInputChange=t.handleIndexInputChange.bind(t),t.hideAddModal=t.hideAddModal.bind(t),t.handleAddSearch=t.handleAddSearch.bind(t),t.handleAddCheckboxChange=t.handleAddCheckboxChange.bind(t),t.handleAddSelectChange=t.handleAddSelectChange.bind(t),t.handleAddInputChange=t.handleAddInputChange.bind(t),t.handleAddPage=t.handleAddPage.bind(t),t.handleAddOnCheck=t.handleAddOnCheck.bind(t),t.handleAddAllOnChange=t.handleAddAllOnChange.bind(t),t.handleAddProds=t.handleAddProds.bind(t),t.updateProd=t.updateProd.bind(t),t.hideModifyProd=t.hideModifyProd.bind(t),t.modifyProdSelectChange=t.modifyProdSelectChange.bind(t),t.state={cats:[],crowds:[],tags:[],modifyProd:{show:!1,prod_data:{prod_id:"",prod_no:"",prod_name:"",prod_src:"",prod_spec:"",station_in_sale:1}},indexViewData:{girdData:[],pageNumber:1,total:0,search_data:{begin:0,count:5,prod_assist_code:"",prod_name:"",prod_src:"",prod_cats:[],prod_tags:[],prod_crowds:[],station_in_sale:1}},addViewData:{show:!1,allCheckState:!1,gridData:[],pageNumber:1,addProdIds:[],search_data:{begin:0,count:5,prod_display:1,prod_assist_code:"",prod_name:"",prod_src:"",prod_cats:[],prod_tags:[],prod_crowds:[],station_in_sale:1}}},t}return _inherits(ProdManage,e),r(ProdManage,[{key:"deleteProd",value:function(e,t){var a=this;e.preventDefault(),(0,k.confirm)("确认要删除？",function(){(0,S.logger)(t),M["default"].deleteStationProd({prod_id:t.prod_id}).then(function(e){(0,S.logger)(e),(0,k.alert)("删除成功"),a.handleIndexSearch()})["catch"](function(e){(0,k.alert)(e)})})}},{key:"showCommodityInfo",value:function(e,t){j.createTab({uri:"app/dist/prodManage/Info.html",data:{name:"新增研讨会"},key:"prodManageInfo"}),j.Util.data("prodManage/Info",t)}},{key:"handleupdateProd",value:function(e){1===e.ret_code?((0,k.alert)("修改成功"),this.serchList()):(0,k.alert)("修改失败")}},{key:"showUpdateCommodityModal",value:function(e,t){e.preventDefault();var a=u["default"].pick(t,["prod_id","prod_no","prod_name","prod_src","prod_spec","station_in_sale"]);this.setState({modifyProd:n({},this.state.modifyProd,{show:!0,prod_data:n({},this.state.modifyProd.prod_data,a)})})}},{key:"handleGetPage",value:function(e){var t=this,a=e.currentPage,r=this.state.indexViewData,o=n({},r.search_data,{begin:a-1});M["default"].fetchStationProdList(o).then(function(e){var a=Math.ceil(e.total/t.state.indexViewData.search_data.count);t.setState({indexViewData:n({},t.state.indexViewData,{girdData:e.prod_list,total:e.total,pageNumber:a,search_data:o})})})["catch"](function(e){(0,k.alert)(e)})}},{key:"serchList",value:function(e){var t=this,a=n({},this.state.indexViewData.search_data,e);return this.fetchList(a).then(function(e){var n=Math.ceil(e.total/t.state.count);t.setState({girdData:e.prod_list,total:e.total,pageNumber:n,begin:a.begin})})["catch"](function(e){(0,k.alert)(e)})}},{key:"fetchList",value:function(e){return new Promise(function(t,a){var r=w["default"].shopStationProdList;(0,v["default"])({url:r.url,method:r.method,data:n({},r.data,e)}).then(function(e){var n=e.data;1===n.ret_code?t(n.ret_data):a(n.ret_msg)})["catch"](function(e){a("请求数据失败"),(0,S.logger)(e)})})}},{key:"fetchShopProdmeta",value:function(e){return new Promise(function(t,a){var r=w["default"].shopProdmeta;(0,v["default"])({url:r.url,method:r.method,data:n({},r.data,e)}).then(function(e){var n=e.data;1===n.ret_code?t(n.ret_data):a(n.ret_msg)})["catch"](function(e){a("请求数据失败"),(0,S.logger)(e)})})}},{key:"componentDidMount",value:function(){var e=this;this.fetchList(this.state.indexViewData.search_data).then(function(t){var a=Math.ceil(t.total/e.state.indexViewData.search_data.count);e.setState({indexViewData:n({},e.state.indexViewData,{girdData:t.prod_list,total:t.total,pageNumber:a})})})["catch"](function(e){(0,k.alert)(e)}),this.fetchShopProdmeta().then(function(t){e.setState({cats:t.cats,crowds:t.crowds,tags:t.tags})})["catch"](function(e){(0,k.alert)(e)})}},{key:"render",value:function(){var e={tags:this.state.tags,crowds:this.state.crowds,cats:this.state.cats,addProdIds:this.state.addViewData.addProdIds,hideAddModal:this.hideAddModal,handleSearch:this.handleAddSearch,handleCheckboxChange:this.handleAddCheckboxChange,handleSelectChange:this.handleAddSelectChange,handleInputChange:this.handleAddInputChange,handlePage:this.handleAddPage,handleOnCheck:this.handleAddOnCheck,handleAllOnChange:this.handleAddAllOnChange,handleAddProds:this.handleAddProds,show:this.state.addViewData.show,allCheckState:this.state.addViewData.allCheckState,pageNumber:this.state.addViewData.pageNumber,gridData:this.state.addViewData.gridData,prod_assist_code:this.state.addViewData.search_data.prod_assist_code,prod_name:this.state.addViewData.search_data.prod_name,prod_src:this.state.addViewData.search_data.prod_src,prod_cats:this.state.addViewData.search_data.prod_cats,prod_tags:this.state.addViewData.search_data.prod_tags,prod_crowds:this.state.addViewData.search_data.prod_crowds,station_in_sale:this.state.addViewData.search_data.station_in_sale,prod_display:this.state.addViewData.search_data.prod_display,begin:this.state.addViewData.search_data.begin},t={tags:this.state.tags,crowds:this.state.crowds,cats:this.state.cats,handleConditionSearch:this.handleIndexSearch,handleCheckboxChange:this.handleIndexCheckboxChange,handleSelectChange:this.handleIndexSelectChange,handleInputChange:this.handleIndexInputChange,prod_assist_code:this.state.indexViewData.search_data.prod_assist_code,prod_name:this.state.indexViewData.search_data.prod_name,prod_src:this.state.indexViewData.search_data.prod_src,prod_cats:this.state.indexViewData.search_data.prod_cats,prod_tags:this.state.indexViewData.search_data.prod_tags,prod_crowds:this.state.indexViewData.search_data.prod_crowds,station_in_sale:this.state.indexViewData.search_data.station_in_sale};return d["default"].createElement(m["default"],{className:"p20",title:"站点商品管理"},d["default"].createElement(g["default"],null,d["default"].createElement("div",{className:"pull-left"},d["default"].createElement(x["default"],t)),d["default"].createElement("div",{className:"pull-right"},d["default"].createElement(c.Button,{onClick:this.handleShowAddProd,className:"btn btn-main"},"新增"))),d["default"].createElement(p["default"],{rowKey:"prod_id",columns:this.columns,data:this.state.indexViewData.girdData}),d["default"].createElement(y["default"],{getPage:this.handleGetPage,currentPage:this.state.indexViewData.search_data.begin+1,pageNumber:this.state.indexViewData.pageNumber}),d["default"].createElement(O["default"],n({updateProd:this.updateProd,handleSelectChange:this.modifyProdSelectChange,handleHideModal:this.hideModifyProd},this.state.modifyProd.prod_data,{show:this.state.modifyProd.show})),d["default"].createElement(I["default"],e))}},{key:"updateProd",value:function(){var e=this;M["default"].updateStationProd({station_in_sale:this.state.modifyProd.prod_data.station_in_sale,prod_id:this.state.modifyProd.prod_data.prod_id}).then(function(t){e.hideModifyProd(),e.handleIndexSearch(),(0,S.logger)(t)})["catch"](function(e){(0,k.alert)(e)})}},{key:"hideModifyProd",value:function(){this.setState({modifyProd:n({},this.state.modifyProd,{show:!1})})}},{key:"modifyProdSelectChange",value:function(e){this.setState({modifyProd:n({},this.state.modifyProd,{prod_data:n({},this.state.modifyProd.prod_data,e)})})}},{key:"handleIndexSearch",value:function(){var e=this;this.fetchList(this.state.indexViewData.search_data).then(function(t){var a=Math.ceil(t.total/e.state.indexViewData.search_data.count);e.setState({indexViewData:n({},e.state.indexViewData,{girdData:t.prod_list,total:t.total,pageNumber:a})})})["catch"](function(e){(0,k.alert)(e)})}},{key:"handleIndexCheckboxChange",value:function(e,t){var a=this.state.indexViewData.search_data[e],r=a.findIndex(function(e){return e===t});r<0?a.push(t):a.splice(r,1),this.setState({indexViewData:n({},this.state.indexViewData,{search_data:n({},this.state.indexViewData.search_data,_defineProperty({},e,a))})})}},{key:"handleIndexSelectChange",value:function(e,t){this.setState({indexViewData:n({},this.state.indexViewData,{search_data:n({},this.state.indexViewData.search_data,_defineProperty({},e,t))})})}},{key:"handleIndexInputChange",value:function(e,t){this.setState({indexViewData:n({},this.state.indexViewData,{search_data:n({},this.state.indexViewData.search_data,_defineProperty({},e,t))})})}},{key:"handleAddProds",value:function(){var e=this;M["default"].stationProdCreate({prod_id_list:this.state.addViewData.addProdIds}).then(function(){e.hideAddModal(),e.handleIndexSearch()})["catch"](function(e){(0,k.alert)(e)})}},{key:"handleAddOnCheck",value:function(e,t){var a=e.target.checked,r=t.prod_id,o=this.state.addViewData.addProdIds,d=o.findIndex(function(e){return e===r});a?d<0&&o.push(r):o.splice(d,1),this.setState({addViewData:n({},this.state.addViewData,{addProdIds:o})})}},{key:"handleAddAllOnChange",value:function(e){if(e.target.checked){var t=this.state.addViewData.gridData.map(function(e){return e.prod_id});this.setState({addViewData:n({},this.state.addViewData,{addProdIds:t,allCheckState:!0})})}else this.setState({addViewData:n({},this.state.addViewData,{addProdIds:[],allCheckState:!1})})}},{key:"handleAddCheckboxChange",value:function(e,t){var a=this.state.addViewData.search_data[e],r=a.findIndex(function(e){return e===t});r<0?a.push(t):a.splice(r,1),this.setState({addViewData:n({},this.state.addViewData,{search_data:n({},this.state.addViewData.search_data,_defineProperty({},e,a))})})}},{key:"handleAddSelectChange",value:function(e,t){this.setState({addViewData:n({},this.state.addViewData,{search_data:n({},this.state.addViewData.search_data,_defineProperty({},e,t))})})}},{key:"handleAddInputChange",value:function(e,t){this.setState({addViewData:n({},this.state.addViewData,{search_data:n({},this.state.addViewData.search_data,_defineProperty({},e,t))})})}},{key:"hideAddModal",value:function(){this.setState({addViewData:n({},this.state.addViewData,{show:!1})})}},{key:"handleShowAddProd",value:function(){var e=this;M["default"].fetchProdList(n({},this.state.addViewData.search_data)).then(function(t){var a=Math.ceil(t.total/e.state.addViewData.search_data.count);e.setState({addViewData:n({},e.state.addViewData,{show:!0,gridData:t.prod_list,pageNumber:a,addProdIds:[]})})})}},{key:"handleAddSearch",value:function(){var e=this;M["default"].fetchProdList(n({},this.state.addViewData.search_data)).then(function(t){var a=Math.ceil(t.total/e.state.addViewData.search_data.count);e.setState({addViewData:n({},e.state.addViewData,{gridData:t.prod_list,pageNumber:a})})})}},{key:"handleAddPage",value:function(e){var t=this,a=e.currentPage,r=a-1;M["default"].fetchProdList(n({},this.state.addViewData.search_data,{begin:r})).then(function(e){var a=Math.ceil(e.total/t.state.addViewData.search_data.count);t.setState({addViewData:n({},t.state.addViewData,{gridData:e.prod_list,pageNumber:a,search_data:n({},t.state.addViewData.search_data,{begin:r})})})})}}]),ProdManage}(o.Component);l["default"].render(d["default"].createElement(A,null),document.getElementById("__prodManage/List__"))}},["v0bo"]);